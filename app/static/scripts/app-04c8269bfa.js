!function(){"use strict";angular.module("frontend",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ngMaterial","toastr"])}(),function(){"use strict";function n(){function n(n,t,e){function i(){t.getDevices().then(function(n){r.devices=n})}function o(t){r.isOpen=!1,n.go("device",{key:t})}function a(){r.isOpen=!0}var r=this;r.gotoDevice=o,r.devices=[],r.isOpen=!0,r.open=a,e.sidenav=r,i()}n.$inject=["$state","device","$rootScope"];var t={restrict:"E",templateUrl:"app/components/sidenav/sidenav.html",controller:n,controllerAs:"vm",bindToController:!0};return t}angular.module("frontend").directive("mySidenav",n)}(),function(){"use strict";function n(){function n(n){var t=this;t.status=n.getStatus()}n.$inject=["auth"];var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:n,controllerAs:"vm",bindToController:!0};return t}angular.module("frontend").directive("myNavbar",n)}(),function(){"use strict";function n(n){function t(){return n.get("/api/device").then(function(n){return n.data})}function e(t){return n.get("/api/device/"+t).then(function(n){return n.data})}function i(t){return n.post("/api/device/"+t.name,t).then(function(n){return n.data})}var o=this;o.getDevices=t,o.getDevice=e,o.updateDevice=i}n.$inject=["$http"],angular.module("frontend").service("device",n)}(),function(){"use strict";function n(n){function t(){return n.get("/api/animation",{cache:!0}).then(function(n){return n.data})}function e(n){return t().then(function(t){var e=null;return angular.forEach(t,function(t){t.name==n&&(e=t)}),e})}var i=this;i.getAnimations=t,i.getAnimation=e}n.$inject=["$http"],angular.module("frontend").service("animations",n)}(),function(){"use strict";function n(n){function t(){return n.get("/api/login").then(function(n){return n.data.form})}function e(t){return n.post("/api/login",t).then(function(){status.loggedIn=!0})}function i(){return n.get("/api/user").then(function(n){return a.status.user=n.data,a.status.loggedIn=void 0!=n.data.user_id,a.status})}function o(){return a.status}var a=this;a.getForm=t,a.login=e,a.updateStatus=i,a.getStatus=o,a.status={loggedIn:!1,user:null},i()}n.$inject=["$http"],angular.module("frontend").service("auth",n)}(),function(){"use strict";function n(n,t,e,i){function o(){void 0!=n.sidenav&&n.sidenav.open()}o()}n.$inject=["$rootScope","$scope","auth","device"],angular.module("frontend").controller("MainController",n)}(),function(){"use strict";function n(n,t,e){function i(){e.getForm().then(function(n){a.form=n})}function o(){return e.login(a.form).then(function(){a.error=void 0,t.go("home")},function(n){a.error=n.data.error})}var a=this;a.form=void 0,a.error=void 0,a.login=o,i()}n.$inject=["$log","$state","auth"],angular.module("frontend").controller("LoginController",n)}(),function(){"use strict";function n(n,t,e){function i(){t.getDevice(n.key).then(function(n){r.device=n,r.animation=n.animation.name}),e.getAnimations().then(function(n){r.animations=n})}function o(){u++;var n=u;void 0!=r.device&&t.updateDevice(r.device).then(function(t){u==n&&(r.device=t,r.animation=t.animation.name)})}function a(){void 0!=r.device&&e.getAnimation(r.animation).then(function(n){r.device.animation=n,r.update()})}var r=this;r.device=void 0,r.animations=void 0,r.animation=void 0,r.update=o,r.updateAnimation=a,i();var u=0}n.$inject=["$stateParams","device","animations"],angular.module("frontend").controller("DeviceController",n)}(),function(){"use strict";function n(n,t){t.defaults.headers.post["X-CSRFToken"]=csrftoken,n.debug("runBlock end")}n.$inject=["$log","$http"],angular.module("frontend").run(n)}(),function(){"use strict";function n(n,t){n.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"vm"}).state("login",{url:"/login",templateUrl:"app/login/login.html",controller:"LoginController",controllerAs:"vm"}).state("device",{url:"/device/:key",templateUrl:"app/device/device.html",controller:"DeviceController",controllerAs:"vm"}),t.otherwise("/")}n.$inject=["$stateProvider","$urlRouterProvider"],angular.module("frontend").config(n)}(),function(){"use strict";angular.module("frontend")}(),function(){"use strict";function n(n,t){n.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!0,t.progressBar=!0}n.$inject=["$logProvider","toastrConfig"],angular.module("frontend").config(n)}(),angular.module("frontend").run(["$templateCache",function(n){n.put("app/device/device.html",'<h1>{{ vm.device.name }}</h1><form ng-submit=vm.update()><md-input-container layout=row><md-select ng-change=vm.updateAnimation() ng-model=vm.animation><md-option ng-value=animation.name ng-repeat="animation in vm.animations">{{ animation.name }}</md-option></md-select></md-input-container><md-input-container layout=row ng-repeat="(name,param) in vm.device.animation.params"><lable flex=60>{{ name }}<div ng-switch=param.type><input ng-switch-when=float ng-change=vm.update() ng-model=param.value type=number min="{{ param.min }}" max="{{ param.max }}" step="{{ param.step }}"> <input ng-switch-when=color ng-change=vm.update() ng-model=param.value type=color><md-slider ng-switch-when=range ng-model=param.value ng-change=vm.update() min="{{ param.min }}" max="{{ param.max }}" step="{{ param.step }}\' ></md-slider>\n                <input ng-switch-default=" ng-change=vm.update() ng-model=param.value type=text></div></lable></md-input-container><md-input-container layout=row flex=20><input type=submit value=update></md-input-container></form>'),n.put("app/login/login.html","{{ vm.error }}<form ng-submit=vm.login() name=auth><label>Username: <input type=text ng-model=vm.form.login_name name=login_name required></label><label>Password: <input type=password ng-model=vm.form.password name=password required></label><input type=submit value=Login></form>"),n.put("app/main/main.html",""),n.put("app/components/sidenav/sidenav.html",'<md-sidenav md-is-locked-open=vm.isOpen class=md-whiteframe-z2><md-list><md-list-item ng-repeat="device in vm.devices"><md-button ng-click=vm.gotoDevice(device.name)>{{device.name}}</md-button></md-list-item></md-list></md-sidenav>'),n.put("app/components/navbar/navbar.html",'<md-toolbar layout=row layout-align="center center"><section flex layout=row layout-align="left center"><md-button href=#/ class=md-raised>Home</md-button></section><div ng-switch=vm.status.loggedIn><div ng-switch-when=true>Hello {{ vm.status.user.login_name }}</div><div ng-switch-default>login</div></div></md-toolbar>')}]);
//# sourceMappingURL=../maps/scripts/app-04c8269bfa.js.map
